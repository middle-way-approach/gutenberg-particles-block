!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=null;return function(){for(var o=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];clearTimeout(n),n=setTimeout(function(){e.apply(o,i)},t)}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SensorTabIndex=t.SensorClassName=t.SensorStyle=t.SizeSensorId=void 0;t.SizeSensorId="size-sensor-id";t.SensorStyle="display:block;position:absolute;top:0;left:0;height:100%;width:auto;overflow:hidden;pointer-events:none;z-index:-1;opacity:0";t.SensorClassName="size-sensor-object";t.SensorTabIndex="-1"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(3)},function(e,t,n){"use strict";var o=n(4),__=wp.i18n.__;(0,wp.blocks.registerBlockType)("cgb/block-particles-block",{title:__("Particles"),icon:"shield",category:"common",keywords:[__("particle"),__("particles"),__("effect")],description:"A block to render a particle effect",example:{},edit:function(e){return wp.element.createElement(o.a,e)},save:function(){return null},attributes:{color:{type:"string",default:"0,0,0"},opacity:{type:"number",default:.5},count:{type:"number",default:99},height:{type:"string",default:"100px"},zIndex:{type:"string",default:"0"}}})},function(e,t,n){"use strict";var o=n(5),r=n(16),i=function(e){return wp.element.createElement("div",{className:e.className},wp.element.createElement(o.a,e),wp.element.createElement(r.a,e))};t.a=i},function(e,t,n){"use strict";var o=n(6),r=(n.n(o),n(7)),i=n.n(r),a=function(e){var t=e.attributes,n=Object(o.useRef)();return Object(o.useEffect)(function(){var e=new i.a(n.current,t);return function(){e.destroy()}},[t]),wp.element.createElement("div",{style:{height:t.height},ref:n})};t.a=a},function(e,t){e.exports=React},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),r=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=r.default,e.exports=t.default},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(9),u=n(15),s=function(){function e(t,n){var i=this;o(this,e),this.randomPoints=function(){return(0,u.range)(i.c.count).map(function(){return{x:Math.random()*i.canvas.width,y:Math.random()*i.canvas.height,xa:2*Math.random()-1,ya:2*Math.random()-1,max:6e3}})},this.el=t,this.c=r({zIndex:-1,opacity:.5,color:"0,0,0",pointColor:"0,0,0",count:99},n),this.canvas=this.newCanvas(),this.context=this.canvas.getContext("2d"),this.points=this.randomPoints(),this.current={x:null,y:null,max:2e4},this.all=this.points.concat([this.current]),this.bindEvent(),this.requestFrame(this.drawCanvas)}return i(e,[{key:"bindEvent",value:function(){var e=this;(0,a.bind)(this.el,function(){e.canvas.width=e.el.clientWidth,e.canvas.height=e.el.clientHeight}),this.onmousemove=window.onmousemove,window.onmousemove=function(t){e.current.x=t.clientX-e.el.offsetLeft+document.scrollingElement.scrollLeft,e.current.y=t.clientY-e.el.offsetTop+document.scrollingElement.scrollTop,e.onmousemove&&e.onmousemove(t)},this.onmouseout=window.onmouseout,window.onmouseout=function(){e.current.x=null,e.current.y=null,e.onmouseout&&e.onmouseout()}}},{key:"newCanvas",value:function(){"static"===getComputedStyle(this.el).position&&(this.el.style.position="relative");var e=document.createElement("canvas");return e.style.cssText=(0,u.canvasStyle)(this.c),e.width=this.el.clientWidth,e.height=this.el.clientHeight,this.el.appendChild(e),e}},{key:"requestFrame",value:function(e){var t=this;this.tid=(0,u.requestAnimationFrame)(function(){return e.call(t)})}},{key:"drawCanvas",value:function(){var e=this,t=this.context,n=this.canvas.width,o=this.canvas.height,r=this.current,i=this.points,a=this.all;t.clearRect(0,0,n,o);var u=void 0,s=void 0,c=void 0,l=void 0,d=void 0,f=void 0;i.forEach(function(i,m){for(i.x+=i.xa,i.y+=i.ya,i.xa*=i.x>n||i.x<0?-1:1,i.ya*=i.y>o||i.y<0?-1:1,t.fillStyle="rgba("+e.c.pointColor+")",t.fillRect(i.x-.5,i.y-.5,1,1),s=m+1;s<a.length;s++)u=a[s],null!==u.x&&null!==u.y&&(l=i.x-u.x,d=i.y-u.y,(f=l*l+d*d)<u.max&&(u===r&&f>=u.max/2&&(i.x-=.03*l,i.y-=.03*d),c=(u.max-f)/u.max,t.beginPath(),t.lineWidth=c/2,t.strokeStyle="rgba("+e.c.color+","+(c+.2)+")",t.moveTo(i.x,i.y),t.lineTo(u.x,u.y),t.stroke()))}),this.requestFrame(this.drawCanvas)}},{key:"destroy",value:function(){(0,a.clear)(this.el),window.onmousemove=this.onmousemove,window.onmouseout=this.onmouseout,(0,u.cancelAnimationFrame)(this.tid),this.canvas.parentNode.removeChild(this.canvas)}}]),e}();s.version="2.0.4",t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ver=t.clear=t.bind=void 0;var o=n(10),r=function(e,t){var n=(0,o.getSensor)(e);return n.bind(t),function(){n.unbind(t)}};t.bind=r;var i=function(e){var t=(0,o.getSensor)(e);(0,o.removeSensor)(t)};t.clear=i;t.ver="0.2.7"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeSensor=t.getSensor=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(11)),r=n(12),i=n(1),a={},u=function(e){var t=e.getAttribute(i.SizeSensorId);if(t&&a[t])return a[t];var n=(0,o.default)();e.setAttribute(i.SizeSensorId,n);var u=(0,r.createSensor)(e);return a[n]=u,u};t.getSensor=u;var s=function(e){var t=e.element.getAttribute(i.SizeSensorId);e.element.removeAttribute(i.SizeSensorId),e.destroy(),t&&a[t]&&delete a[t]};t.removeSensor=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=1,r=function(){return"".concat(o++)};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var o=n(13),r=n(14),i="undefined"!==typeof ResizeObserver?r.createSensor:o.createSensor;t.createSensor=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=n(1),i=function(e){var t=void 0,n=[],i=function(){"static"===getComputedStyle(e).position&&(e.style.position="relative");var t=document.createElement("object");return t.onload=function(){t.contentDocument.defaultView.addEventListener("resize",a),a()},t.setAttribute("style",r.SensorStyle),t.setAttribute("class",r.SensorClassName),t.setAttribute("tabindex",r.SensorTabIndex),t.type="text/html",e.appendChild(t),t.data="about:blank",t},a=(0,o.default)(function(){n.forEach(function(t){t(e)})}),u=function(e){t||(t=i()),-1===n.indexOf(e)&&n.push(e)},s=function(){t&&t.parentNode&&(t.contentDocument&&t.contentDocument.defaultView.removeEventListener("resize",a),t.parentNode.removeChild(t),t=void 0,n=[])};return{element:e,bind:u,destroy:s,unbind:function(e){var o=n.indexOf(e);-1!==o&&n.splice(o,1),0===n.length&&t&&s()}}};t.createSensor=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=function(e){var t=void 0,n=[],r=(0,o.default)(function(){n.forEach(function(t){t(e)})}),i=function(){var t=new ResizeObserver(r);return t.observe(e),r(),t},a=function(e){t||(t=i()),-1===n.indexOf(e)&&n.push(e)},u=function(){t.disconnect(),n=[],t=void 0};return{element:e,bind:a,destroy:u,unbind:function(e){var o=n.indexOf(e);-1!==o&&n.splice(o,1),0===n.length&&t&&u()}}};t.createSensor=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},t.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame||window.clearTimeout,t.range=function(e){return new Array(e).fill(0).map(function(e,t){return t})},t.canvasStyle=function(e){return"display:block;position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:"+e.zIndex+";opacity:"+e.opacity}},function(e,t,n){"use strict";function o(e){return"#"+e.split(",").map(function(e){var t=Number(e).toString(16);return 1===t.length?"0"+t:t}).join("")}var r=wp.blockEditor.InspectorControls,i=wp.components,a=i.PanelBody,u=i.RangeControl,s=i.ColorPicker,c=function(e){var t=e.attributes,n=e.setAttributes;return wp.element.createElement(r,null,wp.element.createElement(a,{title:"Particles"},wp.element.createElement(u,{label:"Count",value:t.count,onChange:function(e){return n({count:e})},min:10,max:300}),wp.element.createElement(u,{label:"Opacity",value:t.opacity,onChange:function(e){return n({opacity:e})},min:.1,max:1,step:.1}),wp.element.createElement(s,{color:o(t.color),onChangeComplete:function(e){return n({color:Object.values(e.rgb).slice(0,3).join(",")})},disableAlpha:!0})))};t.a=c}]);